@model BibliotecaAppV2.Models.Livro

@{
    ViewData["Title"] = "Detalhes do Livro";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">
    <h2><i class="fas fa-book-open mr-2"></i>@Model.Titulo</h2>

    <hr />
    <dl class="row">
        <dt class="col-sm-3"><i class="fas fa-barcode mr-1 text-secondary"></i>ISBN</dt>
        <dd class="col-sm-9">@Model.ISBN</dd>

        <dt class="col-sm-3"><i class="fas fa-tags mr-1 text-secondary"></i>Categoria</dt>
        <dd class="col-sm-9">@Model.Categoria?.Nome</dd>

        <dt class="col-sm-3"><i class="fas fa-building mr-1 text-secondary"></i>Editora</dt>
        <dd class="col-sm-9">@Model.Editora?.Nome</dd>

        <dt class="col-sm-3"><i class="fas fa-user-pen mr-1 text-secondary"></i>Autores</dt>
        <dd class="col-sm-9">
            @if (Model.LivroAutores != null && Model.LivroAutores.Any())
            {
                <ul>
                    @foreach (var la in Model.LivroAutores)
                    {
                        <li>@la.Autor?.Nome</li>
                    }
                </ul>
            }
            else
            {
                <span class="text-muted">Nenhum autor informado.</span>
            }
        </dd>

        <dt class="col-sm-3"><i class="fas fa-boxes-stacked mr-1 text-secondary"></i>Quantidade Disponível</dt>
        <dd class="col-sm-9">@Model.Quantidade</dd>

        <dt class="col-sm-3"><i class="fas fa-align-left mr-1 text-secondary"></i>Descrição</dt>
        <dd class="col-sm-9">@Model.Descricao</dd>

        <dt class="col-sm-3"><i class="fas fa-calendar-plus mr-1 text-secondary"></i>Data de Cadastro</dt>
        <dd class="col-sm-9">@Model.DataCadastro.ToString("dddd, dd MMMM yyyy 'às' HH:mm")</dd>
    </dl>

    <div class="mt-4">
        <a asp-action="Index" class="btn btn-secondary">
            <i class="fas fa-arrow-left mr-1"></i>Voltar
        </a>

        @if (Model.Quantidade > 0 && User.IsInRole("Membro"))
        {
            <a asp-controller="Reserva" asp-action="Reservar" asp-route-livroId="@Model.Id" class="btn btn-primary ml-2">
                <i class="fas fa-book-reader mr-1"></i>Reservar
            </a>
        }
    </div>
</div>
